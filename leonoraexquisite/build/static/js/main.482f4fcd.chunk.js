(this.webpackJsonpleonoraexquisite=this.webpackJsonpleonoraexquisite||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(1),s=n.n(o),c=n(29),i=n.n(c),l=(n(49),n.p,n(9)),r=n(8),b=n(20),j=n(2),u=(n(50),n(19)),d=n.n(u),f=n(3),O=n.n(f);var h=function(){var e=d()("wss://leonoraexquisitecorpes.herokuapp.com/",{transports:["websocket","polling"]}),t=Object(o.useRef)(),n=Object(o.useState)("off"),s=Object(j.a)(n,2),c=s[0],i=s[1],u=Object(o.useState)("off"),f=Object(j.a)(u,2),h=f[0],m=f[1],v=Object(o.useState)(""),p=Object(j.a)(v,2),x=p[0],g=p[1],N=Object(o.useState)("on"),S=Object(j.a)(N,2),y=S[0],k=S[1],w=Object(o.useState)(""),C=Object(j.a)(w,2),M=C[0],T=C[1],B=Object(o.useState)(""),P=Object(j.a)(B,2),L=(P[0],P[1],Object(o.useState)("please begin the story")),H=Object(j.a)(L,2),D=H[0],A=H[1],R=Object(o.useState)([]),F=Object(j.a)(R,2),W=F[0],E=F[1],q=Object(o.useState)(""),I=Object(j.a)(q,2),J=I[0],G=I[1],Q=Object(o.useState)([]),X=Object(j.a)(Q,2),$=X[0],z=X[1],K=Object(o.useState)([]),U=Object(j.a)(K,2),V=(U[0],U[1],Object(o.useState)("")),Y=Object(j.a)(V,2),Z=(Y[0],Y[1],Object(o.useState)([])),_=Object(j.a)(Z,2),ee=_[0],te=_[1],ne=Object(o.useState)(""),ae=Object(j.a)(ne,2),oe=ae[0],se=ae[1],ce=Object(o.useState)(""),ie=Object(j.a)(ce,2),le=(ie[0],ie[1],Object(o.useState)("off")),re=Object(j.a)(le,2),be=(re[0],re[1],Object(o.useState)("off")),je=Object(j.a)(be,2),ue=je[0],de=je[1],fe=Object(o.useState)("off"),Oe=Object(j.a)(fe,2),he=Oe[0],me=Oe[1],ve=Object(o.useState)(""),pe=Object(j.a)(ve,2),xe=pe[0],ge=pe[1],Ne=Object(o.useState)(""),Se=Object(j.a)(Ne,2),ye=Se[0],ke=Se[1],we=Object(o.useState)(""),Ce=Object(j.a)(we,2),Me=Ce[0],Te=Ce[1],Be=Object(o.useState)("off"),Pe=Object(j.a)(Be,2),Le=Pe[0],He=Pe[1],De=Object(o.useState)("off"),Ae=Object(j.a)(De,2),Re=Ae[0],Fe=Ae[1],We=Object(o.useState)("off"),Ee=Object(j.a)(We,2),qe=Ee[0],Ie=Ee[1],Je=Object(o.useState)(""),Ge=Object(j.a)(Je,2),Qe=Ge[0],Xe=Ge[1],$e=Object(o.useState)("Welcome dear visitor,  what would you like to be called?"),ze=Object(j.a)($e,2),Ke=ze[0],Ue=ze[1];Object(o.useEffect)((function(){"off"===h&&Te("on")}),[h]),Object(o.useEffect)((function(){M.length>0&&Ue("please also Select a spirit guide"),0===M.length&&Ue("Welcome dear visitor,what would you like to be called?")}),[M]),Object(o.useEffect)((function(){!function(e){var t=e.split(" ");t.length>5&&(t=t.slice(t.length-5,t.Length)),t.join(" ")}(ye)}),[ye]),Object(o.useEffect)((function(){x.length>0&&(e.connect(),e.on("connect",(function(){e.emit("username",{userName:x,room:xe})}))),e.on("users",(function(e){E(e)})),e.on("message",(function(e){z((function(t){return[].concat(Object(b.a)(t),[e])})),t.current.scrollTop=t.current.scrollHeight})),e.on("connected",(function(e){E((function(t){return[].concat(Object(b.a)(t),[e])}))})),e.on("start",(function(e){Xe(e.currentPlayer),Ve(),e.currentPlayer===x?k("on"):(k("off"),A(""))})),e.on("rejected",(function(){Ue("user name already Taken, sorry"),setTimeout((function(){Ue("Welcome dear visitor,what would you like to be called?")}),1e3)})),e.on("segmentBroadcast",(function(e){console.log("newsentence"),console.log(e.text),console.log(e.player),ke(e.text),Xe(e.player),A(e.tail),te((function(t){return[].concat(Object(b.a)(t),[e.text])})),e.player===x?k("on"):k("off")})),e.on("disconnected",(function(e){E((function(t){return t.filter((function(t){return t.id!==e}))}))}))}),[x]);var Ve=function(){"Leonora"===M||"Max"===M||"Marcel"===M||"Andre"===M||"Rene"===M||"Pablo"===M||"Benjamin"===M?Ue("sorry "+M+" is already playing"):xe?M.length>0&&xe.length>0&&(Te("off"),m("on"),Fe("on"),setTimeout((function(){Fe("off")}),2e3),setTimeout((function(){i("on")}),2e3)):Ue("please click on a spirit guide to choose her/him")},Ye=O()("invisible",{andreb:"on"===Me,andrebSelected:"1"===xe}),Ze=O()("invisible",{rene:"on"===Me,reneSelected:"2"===xe}),_e=O()("invisible",{pablo:"on"===Me,pabloSelected:"3"===xe}),et=O()("invisible",{benjamin:"on"===Me,benjaminSelected:"4"===xe}),tt=O()("invisible",{leonora:"on"===Me,leonoraSelected:"5"===xe}),nt=O()("invisible",{max:"on"===Me,maxSelected:"6"===xe}),at=O()("invisible",{andre:"on"===Me,andreSelected:"7"===xe}),ot=O()("invisible",{marcel:"on"===Me,marcelSelected:"8"===xe}),st=O()({ghostHeadAndreB:"1"===xe,andreBFall:"1"===xe&&"on"===Re,ghostHeadRene:"2"===xe,reneFall:"2"===xe&&"on"===Re,ghostHeadPablo:"3"===xe,pabloFall:"3"===xe&&"on"===Re,ghostHeadBenjamin:"4"===xe,benjaminFall:"4"===xe&&"on"===Re,ghostHeadLeonora:"5"===xe,leonoraFall:"5"===xe&&"on"===Re,ghostHeadMax:"6"===xe,maxFall:"6"===xe&&"on"===Re,ghostHeadAndre:"7"===xe,andreFall:"7"===xe&&"on"===Re,ghostHeadMarcel:"8"===xe,marcelFall:"8"===xe&&"on"===Re},{rotateHead:"on"===Le},{flyAway:"on"===qe}),ct=["1","2","3","4","5","6","7","8"],it=Object(o.useState)({1:"off",2:"off",3:"off",4:"off",5:"off",6:"off",7:"off",8:"off"}),lt=Object(j.a)(it,2),rt=lt[0],bt=lt[1],jt=Object(o.useState)({1:"off",2:"off",3:"off",4:"off",5:"off",6:"off",7:"off",8:"off"}),ut=Object(j.a)(jt,2),dt=ut[0],ft=ut[1],Ot=Object(o.useState)(""),ht=Object(j.a)(Ot,2),mt=ht[0],vt=ht[1],pt=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.id;ge(t),ft(Object(r.a)({},t,"on")),mt.length>0&&bt(Object(l.a)(Object(l.a)({},rt),{},Object(r.a)({},mt,"off"))),vt(t)},xt=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.id;bt(Object(l.a)(Object(l.a)({},rt),{},Object(r.a)({},t,"on")))},gt=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.id;"on"!==dt[t]&&bt(Object(l.a)(Object(l.a)({},rt),{},Object(r.a)({},t,"off")))};return e.on("nextPlayer",(function(e){Xe(e),k(e===x?"on":"off")})),Object(a.jsxs)("div",{className:"allContainer",children:[Object(a.jsx)("div",{className:"rules "+("on"===ue?"":"invisible"),children:Object(a.jsxs)("div",{className:"rulesContent "+("on"===ue?"visible":"invisible"),children:[Object(a.jsx)("div",{className:"closeRules",onClick:function(){de("off")},children:"X"}),Object(a.jsx)("p",{children:"How to play: When this game is played in person, each author writes a sentence (or a few sentences) on a piece of paper, then folds the paper so that all or some part of what they wrote is obscurred. The next author then contributes to the story using only the part of the sentence that is visible below the fold."})]})}),Object(a.jsx)("div",{className:"on"===Me?"dollsBackDrop":"invisible"}),Object(a.jsxs)("div",{className:"nameInputDiv "+("on"===h?" invisible":""),children:[Object(a.jsx)("div",{className:"nameQuestion",children:Ke}),Object(a.jsx)("input",{className:"nameinput",type:"text",onChange:function(e){e.preventDefault(),e.stopPropagation(),T(e.target.value)}}),Object(a.jsx)("input",{type:"submit",onClick:function(){"Leonora"===M||"Max"===M||"Marcel"===M||"Andre"===M||"Rene"===M||"Pablo"===M||"Benjamin"===M?Ue("sorry "+M+" is already playing"):xe?M.length>0&&xe.length>0&&g(M):Ue("please click on a spirit guide to choose her/him")}})]}),Object(a.jsx)("div",{id:ct[0],className:Ye,onClick:pt,onMouseOver:xt,onMouseLeave:gt,children:Object(a.jsx)("p",{className:"nameTag "+("on"===rt[1]?"":"invisible"),children:"Andre B"})}),Object(a.jsx)("div",{id:ct[1],className:Ze,onClick:pt,onMouseOver:xt,onMouseLeave:gt,children:Object(a.jsx)("p",{className:"nameTag "+("on"===rt[2]?"":"invisible"),children:"Rene"})}),Object(a.jsx)("div",{id:ct[2],className:_e,onClick:pt,onMouseOver:xt,onMouseLeave:gt,children:Object(a.jsx)("p",{className:"nameTag "+("on"===rt[3]?"":"invisible"),children:"Pablo"})}),Object(a.jsx)("div",{id:ct[3],className:et,onClick:pt,onMouseOver:xt,onMouseLeave:gt,children:Object(a.jsx)("p",{className:"nameTag "+("on"===rt[4]?"":"invisible"),children:"Benjamin"})}),Object(a.jsx)("div",{id:ct[4],className:tt,onClick:pt,onMouseOver:xt,onMouseLeave:gt,children:Object(a.jsx)("p",{className:"nameTag "+("on"===rt[5]?"":"invisible"),children:"Leonora"})}),Object(a.jsx)("div",{id:ct[5],className:nt,onClick:pt,onMouseOver:xt,onMouseLeave:gt,children:Object(a.jsx)("p",{className:"nameTag "+("on"===rt[6]?"":"invisible"),children:"max"})}),Object(a.jsx)("div",{id:ct[6],className:at,onClick:pt,onMouseOver:xt,onMouseLeave:gt,children:Object(a.jsx)("p",{className:"nameTag "+("on"===rt[7]?"":"invisible"),children:"Andre M"})}),Object(a.jsx)("div",{id:ct[7],className:ot,onClick:pt,onMouseOver:xt,onMouseLeave:gt,children:Object(a.jsx)("p",{className:"nameTag "+("on"===rt[8]?"":"invisible"),children:"Marcel"})}),Object(a.jsxs)("div",{className:"exterior",children:[Object(a.jsx)("div",{className:"leftCurtain "+("on"===h?"leftcurtainOn":"")}),Object(a.jsx)("div",{className:"rightCurtain "+("on"===h?"rightCurtainOn":"")})]}),Object(a.jsxs)("div",{className:"interior ",children:[Object(a.jsx)("div",{className:"on"===h?st:"invisible"}),Object(a.jsxs)("div",{className:"title "+("on"===c?"titleAnimate":"invisible"),children:[Object(a.jsxs)("div",{className:"on"===c?"titleText":"invisible",children:["welcome ",x]}),Object(a.jsx)("div",{className:"on"===c?"titleText":"invisible",children:Object(a.jsx)("h1",{children:"let's play Exquisite Corpse!"})}),Object(a.jsxs)("div",{className:"on"===c?"titleText":"invisible",children:["current player : ",Qe]})]}),Object(a.jsx)("div",{className:"table "+("on"===c?"tableAnimate":"invisible"),children:Object(a.jsxs)("div",{className:"on"===c?"titleText":"invisible",children:[Object(a.jsx)("div",{className:"display ",children:D}),Object(a.jsx)("div",{className:"on"===y?"invisible":"",children:"please wait your turn"}),Object(a.jsx)("input",{className:"sentenceInput "+("on"===y?"":"invisible"),onChange:function(e){e.preventDefault(),e.stopPropagation(),se(e.target.value)},type:"text",placeholder:"please proceed"}),Object(a.jsx)("button",{className:"submitbutton "+("on"===y?"":"invisible"),onClick:function(){He("on");var t=oe;e.open(),console.log("tail=====  "),console.log(t),e.emit("segment",{segment:oe,tail:t,room:xe}),console.log("emitted sentence to server"),console.log(oe),setTimeout((function(){He("off")}),2e3)},children:"broadcast Story Segment"}),Object(a.jsx)("button",{className:"turnButtom gameButton",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.open(),e.emit("nextPlayer",xe)},children:"next player"}),Object(a.jsx)("button",{className:"gameButton",children:Object(a.jsx)("a",{href:"data:text/plain;charset=utf-8, "+ee.join("\n"),download:"poem.txt",children:"download story"})}),Object(a.jsx)("button",{className:"openRulesButton gameButton",onClick:function(){de("on")},children:"see Rules"})]})})]}),Object(a.jsxs)("div",{className:"sidenavchat "+("on"===c?"visible ":"invisible ")+("on"===he?"largeChat":""),children:[Object(a.jsx)("div",{className:"chatWindow "+("on"===he?"visible":"invisible"),children:$.length?Object(a.jsx)("div",{ref:t,className:"messageBox "+("on"===he?"onChatbox":""),children:$.map((function(e,t){var n=e.user,o=(e.date,e.text);return Object(a.jsxs)("div",{className:n===x?"toLeft":"toRight",children:[n,": ",o," "]},t)}))}):Object(a.jsx)("h1",{className:"chat-title",children:"Speak"})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{className:"chatBox "+("on"===he?"visible":"invisible"),type:"text",placeholder:"message",value:J,onChange:function(e){return G(e.currentTarget.value)}}),Object(a.jsx)("button",{className:"chatbtn "+("on"===he?"":"invisible"),onClick:function(t){t.preventDefault(),t.stopPropagation();var n={message:J,username:x,room:xe};e.open(),e.emit("send",n),G("")},children:"speak"}),Object(a.jsx)("button",{className:"chatbtn "+("on"===he?"":"invisible"),onClick:function(t){t.preventDefault(),t.stopPropagation(),Ie("on"),e.open(),setTimeout((function(){Ie("off")}),1e3);var n={message:J,username:x,room:xe};e.emit("sendToGhost",n),G("")},children:"speak with ghost"}),Object(a.jsx)("button",{className:"chatbtn "+("on"===he?"":"invisible"),onClick:function(){me("off")},children:"close chat"}),Object(a.jsx)("button",{className:"chatbtn "+("on"===he?"invisible":""),onClick:function(){me("on")},children:"open chat"}),Object(a.jsxs)("div",{className:"roster ",children:[Object(a.jsx)("h3",{children:"players in the room"}),Object(a.jsx)("ul",{id:"users",children:W.map((function(e){var t=e.name,n=e.id;return Object(a.jsx)("li",{className:"on"===he?"centeredLi":"",children:t},n)}))})]})]})]})]})};n(82);var m=function(){return Object(a.jsx)(h,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[83,1,2]]]);
//# sourceMappingURL=main.482f4fcd.chunk.js.map