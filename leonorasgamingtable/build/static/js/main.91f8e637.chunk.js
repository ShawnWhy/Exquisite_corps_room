(this.webpackJsonpleonorasgamingtable=this.webpackJsonpleonorasgamingtable||[]).push([[0],{36:function(e,t,a){e.exports=a(80)},41:function(e,t,a){},42:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},43:function(e,t,a){},76:function(e,t){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(18),c=a.n(l),s=(a(41),a(42),a(5)),i=a(4),r=a(7),u=a(1),m=(a(43),a(44),a(19)),b=a.n(m),f=a(2),d=a.n(f);var v=function(){var e=b()("wss://leonoraexquisite.herokuapp.com/",{transports:["websocket","polling"]}),t=Object(n.useRef)(),a=Object(n.useState)("off"),l=Object(u.a)(a,2),c=l[0],m=l[1],f=Object(n.useState)("off"),v=Object(u.a)(f,2),p=v[0],g=v[1],h=Object(n.useState)(""),j=Object(u.a)(h,2),O=j[0],E=j[1],N=Object(n.useState)("on"),y=Object(u.a)(N,2),S=y[0],k=y[1],x=Object(n.useState)(""),w=Object(u.a)(x,2),C=w[0],M=w[1],T=Object(n.useState)(""),B=Object(u.a)(T,2),P=(B[0],B[1],Object(n.useState)("please begin the story")),L=Object(u.a)(P,2),H=L[0],A=L[1],D=Object(n.useState)([]),R=Object(u.a)(D,2),F=R[0],W=R[1],I=Object(n.useState)(""),q=Object(u.a)(I,2),J=q[0],G=q[1],Q=Object(n.useState)([]),X=Object(u.a)(Q,2),$=X[0],z=X[1],K=Object(n.useState)([]),U=Object(u.a)(K,2),V=(U[0],U[1],Object(n.useState)("")),Y=Object(u.a)(V,2),Z=(Y[0],Y[1],Object(n.useState)([])),_=Object(u.a)(Z,2),ee=_[0],te=_[1],ae=Object(n.useState)(""),ne=Object(u.a)(ae,2),oe=ne[0],le=ne[1],ce=Object(n.useState)(""),se=Object(u.a)(ce,2),ie=se[0],re=se[1],ue=Object(n.useState)("off"),me=Object(u.a)(ue,2),be=(me[0],me[1],Object(n.useState)("off")),fe=Object(u.a)(be,2),de=fe[0],ve=fe[1],pe=Object(n.useState)("off"),ge=Object(u.a)(pe,2),he=ge[0],je=ge[1],Oe=Object(n.useState)(""),Ee=Object(u.a)(Oe,2),Ne=Ee[0],ye=Ee[1],Se=Object(n.useState)(""),ke=Object(u.a)(Se,2),xe=ke[0],we=ke[1],Ce=Object(n.useState)("off"),Me=Object(u.a)(Ce,2),Te=Me[0],Be=Me[1],Pe=Object(n.useState)("off"),Le=Object(u.a)(Pe,2),He=Le[0],Ae=Le[1],De=Object(n.useState)("off"),Re=Object(u.a)(De,2),Fe=Re[0],We=Re[1],Ie=Object(n.useState)(""),qe=Object(u.a)(Ie,2),Je=qe[0],Ge=qe[1],Qe=Object(n.useState)("Welcome dear visitor, what would you like to be called?"),Xe=Object(u.a)(Qe,2),$e=Xe[0],ze=Xe[1];Object(n.useEffect)((function(){"off"===p&&we("on")}),[]),Object(n.useEffect)((function(){C.length>0&&ze("please also Select a spirit guide"),0===C.length&&ze("Welcome dear visitor,what would you like to be called?")}),[C]),Object(n.useEffect)((function(){O.length>0&&(e.connect(),e.on("connect",(function(){e.emit("username",{userName:O,room:Ne})}))),e.on("users",(function(e){W(e)})),e.on("message",(function(e){z((function(t){return[].concat(Object(r.a)(t),[e])})),t.current.scrollTop=t.current.scrollHeight})),e.on("connected",(function(e){W((function(t){return[].concat(Object(r.a)(t),[e])}))})),e.on("start",(function(e){te((function(t){return[].concat(Object(r.a)(t),Object(r.a)(e.segments))})),Ge(e.currentPlayer),Ke(),e.currentPlayer===O?k("on"):(k("off"),A(""))})),e.on("rejected",(function(){ze("user name already Taken, sorry"),setTimeout((function(){ze("Welcome dear visitor,what would you like to be called?")}),1e3)})),e.on("segmentBroadcast",(function(e){console.log("newsentence"),console.log(e.text),console.log(e.player),function(e){console.log(e),console.log("setend");var t=e.split(" ");console.log(t),t.length>5&&(t=t.slice(t.length-5,t.Length),console.log(t));var a=t.join(" ");console.log(a),re(a),A(a),console.log(ie)}(e.text),Ge(e.player),te((function(t){return[].concat(Object(r.a)(t),[e.text])})),e.player===O?k("on"):k("off")})),e.on("disconnected",(function(e){W((function(t){return t.filter((function(t){return t.id!==e}))}))}))}),[O]);var Ke=function(){"Leonora"===C||"Max"===C||"Marcel"===C||"Andre"===C||"Rene"===C||"Pablo"===C||"Benjamin"===C?ze("sorry "+C+" is already playing"):Ne?C.length>0&&Ne.length>0&&(we("off"),g("on"),Ae("on"),setTimeout((function(){Ae("off")}),2e3),setTimeout((function(){m("on")}),2e3)):ze("please click on a spirit guide to choose her/him")},Ue=function(t){t.preventDefault(),t.stopPropagation();var a={message:J,username:O,room:Ne};e.open(),e.emit("send",a),G("")},Ve=d()("invisible",{andreb:"on"===xe,andrebSelected:"1"===Ne}),Ye=d()("invisible",{rene:"on"===xe,reneSelected:"2"===Ne}),Ze=d()("invisible",{pablo:"on"===xe,pabloSelected:"3"===Ne}),_e=d()("invisible",{benjamin:"on"===xe,benjaminSelected:"4"===Ne}),et=d()("invisible",{leonora:"on"===xe,leonoraSelected:"5"===Ne}),tt=d()("invisible",{max:"on"===xe,maxSelected:"6"===Ne}),at=d()("invisible",{andre:"on"===xe,andreSelected:"7"===Ne}),nt=d()("invisible",{marcel:"on"===xe,marcelSelected:"8"===Ne}),ot=d()({ghostHeadAndreB:"1"===Ne,andreBFall:"1"===Ne&&"on"===He,ghostHeadRene:"2"===Ne,reneFall:"2"===Ne&&"on"===He,ghostHeadPablo:"3"===Ne,pabloFall:"3"===Ne&&"on"===He,ghostHeadBenjamin:"4"===Ne,benjaminFall:"4"===Ne&&"on"===He,ghostHeadLeonora:"5"===Ne,leonoraFall:"5"===Ne&&"on"===He,ghostHeadMax:"6"===Ne,maxFall:"6"===Ne&&"on"===He,ghostHeadAndre:"7"===Ne,andreFall:"7"===Ne&&"on"===He,ghostHeadMarcel:"8"===Ne,marcelFall:"8"===Ne&&"on"===He},{rotateHead:"on"===Te},{flyAway:"on"===Fe}),lt=["1","2","3","4","5","6","7","8"],ct=Object(n.useState)({1:"off",2:"off",3:"off",4:"off",5:"off",6:"off",7:"off",8:"off"}),st=Object(u.a)(ct,2),it=st[0],rt=st[1],ut=Object(n.useState)({1:"off",2:"off",3:"off",4:"off",5:"off",6:"off",7:"off",8:"off"}),mt=Object(u.a)(ut,2),bt=mt[0],ft=mt[1],dt=Object(n.useState)(""),vt=Object(u.a)(dt,2),pt=vt[0],gt=vt[1],ht=function(e){e.stopPropagation(),e.preventDefault(),console.log(e.target.id);var t=e.target.id;ye(t),ft(Object(i.a)({},t,"on")),console.log(bt),pt.length>0&&(rt(Object(s.a)(Object(s.a)({},it),{},Object(i.a)({},pt,"off"))),console.log("nametag "),console.log(it)),gt(t),console.log("previousedoll"),console.log(pt)},jt=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.id;rt(Object(s.a)(Object(s.a)({},it),{},Object(i.a)({},t,"on")))},Ot=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.id;"on"!==bt[t]&&rt(Object(s.a)(Object(s.a)({},it),{},Object(i.a)({},t,"off")))};return e.on("nextPlayer",(function(e){console.log(e),console.log(Je),Ge(e),console.log("player and current player"),console.log(Je),console.log(O),e===O?(k("on"),console.log("turnedon")):(k("off"),console.log("turnedoff"))})),o.a.createElement("div",{className:"allContainer"},o.a.createElement("div",{className:"rules "+("on"===de?"":"invisible")},o.a.createElement("div",{className:"rulesContent "+("on"===de?"visible":"invisible")},o.a.createElement("div",{className:"closeRules",onClick:function(){ve("off")}},"X"),o.a.createElement("p",null,"How to play: When this game is played in person, each author writes a sentence (or a few sentences) on a piece of paper, then folds the paper so that all or some part of what they wrote is obscurred. The next author then contributes to the story using only the part of the sentence that is visible below the fold."))),o.a.createElement("div",{className:"on"===xe?"dollsBackDrop":"invisible"}),o.a.createElement("div",{className:"nameInputDiv "+("on"===p?" invisible":"")},o.a.createElement("div",{className:"nameQuestion"},$e),o.a.createElement("input",{className:"nameinput",type:"text",onChange:function(e){e.preventDefault(),e.stopPropagation(),M(e.target.value)}}),o.a.createElement("input",{type:"submit",onClick:function(){"Leonora"===C||"Max"===C||"Marcel"===C||"Andre"===C||"Rene"===C||"Pablo"===C||"Benjamin"===C?ze("sorry "+C+" is already playing"):Ne?C.length>0&&Ne.length>0&&E(C):ze("please click on a spirit guide to choose her/him")}})),o.a.createElement("div",{id:lt[0],className:Ve,onClick:ht,onMouseOver:jt,onMouseLeave:Ot},o.a.createElement("p",{className:"nameTag "+("on"===it[1]?"":"invisible")},"Andre B")),o.a.createElement("div",{id:lt[1],className:Ye,onClick:ht,onMouseOver:jt,onMouseLeave:Ot},o.a.createElement("p",{className:"nameTag "+("on"===it[2]?"":"invisible")},"Rene")),o.a.createElement("div",{id:lt[2],className:Ze,onClick:ht,onMouseOver:jt,onMouseLeave:Ot},o.a.createElement("p",{className:"nameTag "+("on"===it[3]?"":"invisible")},"Pablo")),o.a.createElement("div",{id:lt[3],className:_e,onClick:ht,onMouseOver:jt,onMouseLeave:Ot},o.a.createElement("p",{className:"nameTag "+("on"===it[4]?"":"invisible")},"Benjamin")),o.a.createElement("div",{id:lt[4],className:et,onClick:ht,onMouseOver:jt,onMouseLeave:Ot},o.a.createElement("p",{className:"nameTag "+("on"===it[5]?"":"invisible")},"Leonora")),o.a.createElement("div",{id:lt[5],className:tt,onClick:ht,onMouseOver:jt,onMouseLeave:Ot},o.a.createElement("p",{className:"nameTag "+("on"===it[6]?"":"invisible")},"max")),o.a.createElement("div",{id:lt[6],className:at,onClick:ht,onMouseOver:jt,onMouseLeave:Ot},o.a.createElement("p",{className:"nameTag "+("on"===it[7]?"":"invisible")},"Andre M")),o.a.createElement("div",{id:lt[7],className:nt,onClick:ht,onMouseOver:jt,onMouseLeave:Ot},o.a.createElement("p",{className:"nameTag "+("on"===it[8]?"":"invisible")},"Marcel")),o.a.createElement("div",{className:"exterior"},o.a.createElement("div",{className:"leftCurtain "+("on"===p?"leftcurtainOn":"")}),o.a.createElement("div",{className:"rightCurtain "+("on"===p?"rightCurtainOn":"")})),o.a.createElement("div",{className:"interior "},o.a.createElement("div",{className:"on"===p?ot:"invisible"}),o.a.createElement("div",{className:"title "+("on"===c?"titleAnimate":"invisible")},o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},"welcome ",O),o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},o.a.createElement("h1",null,"let's play Exquisite Corpse!")),o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},"current player : ",Je)),o.a.createElement("div",{className:"table "+("on"===c?"tableAnimate":"invisible")},o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},o.a.createElement("div",{className:"display "},H),o.a.createElement("div",{className:"on"===S?"invisible":""},"please wait your turn"),o.a.createElement("textArea",{className:"sentenceInput "+("on"===S?"":"invisible"),onChange:function(e){e.preventDefault(),e.stopPropagation(),le(e.target.value)},type:"text",placeholder:"please proceed"}),o.a.createElement("button",{className:"submitbutton "+("on"===S?"":"invisible"),onClick:function(){Be("on"),e.open(),console.log(oe),e.emit("segment",{segment:oe,room:Ne}),setTimeout((function(){Be("off")}),2e3)}},"broadcast Story Segment"),o.a.createElement("button",{className:"turnButtom gameButton",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.open(),e.emit("nextPlayer",Ne)}},"next player"),o.a.createElement("button",{className:"gameButton"},o.a.createElement("a",{href:"data:text/plain;charset=utf-8, "+ee.join(" "),download:"poem.txt"},"download story")),o.a.createElement("button",{className:"openRulesButton gameButton",onClick:function(){ve("on")}},"see Rules")))),o.a.createElement("div",{className:"sidenavchat "+("on"===c?"visible ":"invisible ")+("on"===he?"largeChat":"")},o.a.createElement("div",{className:"chatWindow "+("on"===he?"visible":"invisible")},$.length?o.a.createElement("div",{ref:t,className:"messageBox "+("on"===he?"onChatbox":"")},$.map((function(e,t){var a=e.user,n=(e.date,e.text);return o.a.createElement("div",{key:t,className:a===O?"toLeft":"toRight"},a,": ",n," ")}))):o.a.createElement("h1",{className:"chat-title"},"Speak")),o.a.createElement("div",null,o.a.createElement("input",{className:"chatBox "+("on"===he?"visible":"invisible"),type:"text",placeholder:"message",value:J,onChange:function(e){return G(e.currentTarget.value)}}),o.a.createElement("button",{className:"chatbtn "+("on"===he?"":"invisible"),onClick:Ue},"speak"),o.a.createElement("button",Object(i.a)({className:"chatbtn "+("on"===he?"":"invisible"),onClick:Ue},"onClick",(function(t){t.preventDefault(),t.stopPropagation(),We("on"),e.open(),setTimeout((function(){We("off")}),1e3);var a={message:J,username:O,room:Ne};e.emit("sendToGhost",a),G("")})),"speak with ghost"),o.a.createElement("button",{className:"chatbtn "+("on"===he?"":"invisible"),onClick:function(){je("off")}},"close chat"),o.a.createElement("button",{className:"chatbtn "+("on"===he?"invisible":""),onClick:function(){je("on")}},"open chat"),o.a.createElement("div",{className:"roster "},o.a.createElement("h3",null,"players in the room"),o.a.createElement("ul",{id:"users"},F.map((function(e){var t=e.name,a=e.id;return o.a.createElement("li",{key:a,className:"on"===he?"centeredLi":""},t)})))))))};a(79);var p=function(){return o.a.createElement(v,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.91f8e637.chunk.js.map