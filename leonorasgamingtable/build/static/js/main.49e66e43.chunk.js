(this.webpackJsonpleonorasgamingtable=this.webpackJsonpleonorasgamingtable||[]).push([[0],{36:function(e,t,a){e.exports=a(80)},41:function(e,t,a){},42:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},43:function(e,t,a){},76:function(e,t){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(18),c=a.n(l),i=(a(41),a(42),a(5)),s=a(4),r=a(7),m=a(1),u=(a(43),a(44),a(19)),f=a.n(u),b=a(2),d=a.n(b);var v=function(){var e=f()("wss://leonoraexquisite.herokuapp.com/",{transports:["websocket","polling"]}),t=Object(n.useRef)(),a=Object(n.useState)("off"),l=Object(m.a)(a,2),c=l[0],u=l[1],b=Object(n.useState)("off"),v=Object(m.a)(b,2),p=v[0],g=v[1],h=Object(n.useState)(""),O=Object(m.a)(h,2),j=O[0],E=O[1],N=Object(n.useState)("on"),y=Object(m.a)(N,2),S=y[0],k=y[1],x=Object(n.useState)(""),w=Object(m.a)(x,2),C=w[0],M=w[1],T=Object(n.useState)(""),P=Object(m.a)(T,2),B=(P[0],P[1],Object(n.useState)("please begin the story")),L=Object(m.a)(B,2),H=L[0],A=L[1],D=Object(n.useState)([]),F=Object(m.a)(D,2),R=F[0],W=F[1],J=Object(n.useState)(""),I=Object(m.a)(J,2),q=I[0],X=I[1],G=Object(n.useState)([]),Q=Object(m.a)(G,2),$=Q[0],z=Q[1],K=Object(n.useState)([]),U=Object(m.a)(K,2),V=U[0],Y=U[1],Z=Object(n.useState)(""),_=Object(m.a)(Z,2),ee=(_[0],_[1],Object(n.useState)([])),te=Object(m.a)(ee,2),ae=te[0],ne=te[1],oe=Object(n.useState)(""),le=Object(m.a)(oe,2),ce=le[0],ie=le[1],se=Object(n.useState)(""),re=Object(m.a)(se,2),me=re[0],ue=re[1],fe=Object(n.useState)("off"),be=Object(m.a)(fe,2),de=be[0],ve=be[1],pe=Object(n.useState)("off"),ge=Object(m.a)(pe,2),he=ge[0],Oe=ge[1],je=Object(n.useState)("off"),Ee=Object(m.a)(je,2),Ne=Ee[0],ye=Ee[1],Se=Object(n.useState)(""),ke=Object(m.a)(Se,2),xe=ke[0],we=ke[1],Ce=Object(n.useState)(""),Me=Object(m.a)(Ce,2),Te=Me[0],Pe=Me[1],Be=Object(n.useState)("off"),Le=Object(m.a)(Be,2),He=Le[0],Ae=Le[1],De=Object(n.useState)("off"),Fe=Object(m.a)(De,2),Re=Fe[0],We=Fe[1],Je=Object(n.useState)("off"),Ie=Object(m.a)(Je,2),qe=Ie[0],Xe=Ie[1],Ge=Object(n.useState)(""),Qe=Object(m.a)(Ge,2),$e=Qe[0],ze=Qe[1],Ke=Object(n.useState)("Welcome dear visitor, what would you like to be called?"),Ue=Object(m.a)(Ke,2),Ve=Ue[0],Ye=Ue[1];Object(n.useEffect)((function(){"off"===p&&Pe("on")}),[]),Object(n.useEffect)((function(){C.length>0&&Ye("please also Select a spirit guide"),0===C.length&&Ye("Welcome dear visitor,what would you like to be called?")}),[C]),Object(n.useEffect)((function(){j.length>0&&(e.connect(),e.on("connect",(function(){e.emit("username",{userName:j,room:xe})}))),e.on("users",(function(e){W(e)})),e.on("message",(function(e){z((function(t){return[].concat(Object(r.a)(t),[e])})),t.current.scrollTop=t.current.scrollHeight})),e.on("connected",(function(e){W((function(t){return[].concat(Object(r.a)(t),[e])}))})),e.on("start",(function(e){Y((function(t){return[].concat(Object(r.a)(t),Object(r.a)(e.segments))})),ze(e.currentPlayer),Ze(),e.currentPlayer===j?k("on"):(k("off"),A(""))})),e.on("rejected",(function(){Ye("user name already Taken, sorry"),setTimeout((function(){Ye("Welcome dear visitor,what would you like to be called?")}),1e3)})),e.on("segmentBroadcast",(function(e){console.log("newsentence"),console.log(e.text),console.log(e.player),function(e){console.log(e),console.log("setend");var t=e.split(" ");console.log(t),t.length>5&&(t=t.slice(t.length-5,t.Length),console.log(t));var a=t.join(" ");console.log(a),ue(a),A(a),console.log(me)}(e.text),ze(e.player),ne((function(t){return[].concat(Object(r.a)(t),[e.text])})),e.player===j?k("on"):k("off")})),e.on("disconnected",(function(e){W((function(t){return t.filter((function(t){return t.id!==e}))}))}))}),[j]);var Ze=function(){"Leonora"===C||"Max"===C||"Marcel"===C||"Andre"===C||"Rene"===C||"Pablo"===C||"Benjamin"===C?Ye("sorry "+C+" is already playing"):xe?C.length>0&&xe.length>0&&(Pe("off"),g("on"),We("on"),setTimeout((function(){We("off")}),2e3),setTimeout((function(){u("on")}),2e3)):Ye("please click on a spirit guide to choose her/him")},_e=function(t){t.preventDefault(),t.stopPropagation();var a={message:q,username:j,room:xe};e.open(),e.emit("send",a),X("")},et=d()("invisible",{andreb:"on"===Te,andrebSelected:"1"===xe}),tt=d()("invisible",{rene:"on"===Te,reneSelected:"2"===xe}),at=d()("invisible",{pablo:"on"===Te,pabloSelected:"3"===xe}),nt=d()("invisible",{benjamin:"on"===Te,benjaminSelected:"4"===xe}),ot=d()("invisible",{leonora:"on"===Te,leonoraSelected:"5"===xe}),lt=d()("invisible",{max:"on"===Te,maxSelected:"6"===xe}),ct=d()("invisible",{andre:"on"===Te,andreSelected:"7"===xe}),it=d()("invisible",{marcel:"on"===Te,marcelSelected:"8"===xe}),st=d()({ghostHeadAndreB:"1"===xe,andreBFall:"1"===xe&&"on"===Re,ghostHeadRene:"2"===xe,reneFall:"2"===xe&&"on"===Re,ghostHeadPablo:"3"===xe,pabloFall:"3"===xe&&"on"===Re,ghostHeadBenjamin:"4"===xe,benjaminFall:"4"===xe&&"on"===Re,ghostHeadLeonora:"5"===xe,leonoraFall:"5"===xe&&"on"===Re,ghostHeadMax:"6"===xe,maxFall:"6"===xe&&"on"===Re,ghostHeadAndre:"7"===xe,andreFall:"7"===xe&&"on"===Re,ghostHeadMarcel:"8"===xe,marcelFall:"8"===xe&&"on"===Re},{rotateHead:"on"===He},{flyAway:"on"===qe}),rt=["1","2","3","4","5","6","7","8"],mt=Object(n.useState)({1:"off",2:"off",3:"off",4:"off",5:"off",6:"off",7:"off",8:"off"}),ut=Object(m.a)(mt,2),ft=ut[0],bt=ut[1],dt=Object(n.useState)({1:"off",2:"off",3:"off",4:"off",5:"off",6:"off",7:"off",8:"off"}),vt=Object(m.a)(dt,2),pt=vt[0],gt=vt[1],ht=Object(n.useState)(""),Ot=Object(m.a)(ht,2),jt=Ot[0],Et=Ot[1],Nt=function(e){e.stopPropagation(),e.preventDefault(),console.log(e.target.id);var t=e.target.id;we(t),gt(Object(s.a)({},t,"on")),console.log(pt),jt.length>0&&(bt(Object(i.a)(Object(i.a)({},ft),{},Object(s.a)({},jt,"off"))),console.log("nametag "),console.log(ft)),Et(t),console.log("previousedoll"),console.log(jt)},yt=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.id;bt(Object(i.a)(Object(i.a)({},ft),{},Object(s.a)({},t,"on")))},St=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.id;"on"!==pt[t]&&bt(Object(i.a)(Object(i.a)({},ft),{},Object(s.a)({},t,"off")))};return e.on("nextPlayer",(function(e){console.log(e),console.log($e),ze(e),console.log("player and current player"),console.log($e),console.log(j),e===j?(k("on"),console.log("turnedon")):(k("off"),console.log("turnedoff"))})),o.a.createElement("div",{className:"allContainer"},o.a.createElement("div",{className:"finalPoemModal "+("on"===de?"":"invisible")},o.a.createElement("div",{className:"finalPoemModalContent "+("on"===de?"visible":"invisible")},o.a.createElement("div",{className:"closeModalPoem",onClick:function(){ve("off")}},"X"),o.a.createElement("ul",{className:"FinalPoemText"},V.map((function(e,t){return o.a.createElement("li",{key:t},e)})))),o.a.createElement("button",{className:"downloadButton"},o.a.createElement("a",{href:"data:text/plain;charset=utf-8, "+JSON.stringify(V,null,1),download:"poem.txt"},"download poem"))),o.a.createElement("div",{className:"rules "+("on"===he?"":"invisible")},o.a.createElement("div",{className:"rulesContent "+("on"===he?"visible":"invisible")},o.a.createElement("div",{className:"closeRules",onClick:function(){Oe("off")}},"X"),o.a.createElement("p",null,"How to play: When this game is played in person, each author writes a sentence (or a few sentences) on a piece of paper, then folds the paper so that all or some part of what they wrote is obscurred. The next author then contributes to the story using only the part of the sentence that is visible below the fold."))),o.a.createElement("div",{className:"on"===Te?"dollsBackDrop":"invisible"}),o.a.createElement("div",{className:"nameInputDiv "+("on"===p?" invisible":"")},o.a.createElement("div",{className:"nameQuestion"},Ve),o.a.createElement("input",{className:"nameinput",type:"text",onChange:function(e){e.preventDefault(),e.stopPropagation(),M(e.target.value)}}),o.a.createElement("input",{type:"submit",onClick:function(){"Leonora"===C||"Max"===C||"Marcel"===C||"Andre"===C||"Rene"===C||"Pablo"===C||"Benjamin"===C?Ye("sorry "+C+" is already playing"):xe?C.length>0&&xe.length>0&&E(C):Ye("please click on a spirit guide to choose her/him")}})),o.a.createElement("div",{id:rt[0],className:et,onClick:Nt,onMouseOver:yt,onMouseLeave:St},o.a.createElement("p",{className:"nameTag "+("on"===ft[1]?"":"invisible")},"Andre B")),o.a.createElement("div",{id:rt[1],className:tt,onClick:Nt,onMouseOver:yt,onMouseLeave:St},o.a.createElement("p",{className:"nameTag "+("on"===ft[2]?"":"invisible")},"Rene")),o.a.createElement("div",{id:rt[2],className:at,onClick:Nt,onMouseOver:yt,onMouseLeave:St},o.a.createElement("p",{className:"nameTag "+("on"===ft[3]?"":"invisible")},"Pablo")),o.a.createElement("div",{id:rt[3],className:nt,onClick:Nt,onMouseOver:yt,onMouseLeave:St},o.a.createElement("p",{className:"nameTag "+("on"===ft[4]?"":"invisible")},"Benjamin")),o.a.createElement("div",{id:rt[4],className:ot,onClick:Nt,onMouseOver:yt,onMouseLeave:St},o.a.createElement("p",{className:"nameTag "+("on"===ft[5]?"":"invisible")},"Leonora")),o.a.createElement("div",{id:rt[5],className:lt,onClick:Nt,onMouseOver:yt,onMouseLeave:St},o.a.createElement("p",{className:"nameTag "+("on"===ft[6]?"":"invisible")},"max")),o.a.createElement("div",{id:rt[6],className:ct,onClick:Nt,onMouseOver:yt,onMouseLeave:St},o.a.createElement("p",{className:"nameTag "+("on"===ft[7]?"":"invisible")},"Andre M")),o.a.createElement("div",{id:rt[7],className:it,onClick:Nt,onMouseOver:yt,onMouseLeave:St},o.a.createElement("p",{className:"nameTag "+("on"===ft[8]?"":"invisible")},"Marcel")),o.a.createElement("div",{className:"exterior"},o.a.createElement("div",{className:"leftCurtain "+("on"===p?"leftcurtainOn":"")}),o.a.createElement("div",{className:"rightCurtain "+("on"===p?"rightCurtainOn":"")})),o.a.createElement("div",{className:"interior "},o.a.createElement("div",{className:"on"===p?st:"invisible"}),o.a.createElement("div",{className:"title "+("on"===c?"titleAnimate":"invisible")},o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},"welcome ",j),o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},o.a.createElement("h1",null,"let's play Exquisite Corps!")),o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},"current player : ",$e)),o.a.createElement("div",{className:"table "+("on"===c?"tableAnimate":"invisible")},o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},o.a.createElement("div",{className:"display "},H),o.a.createElement("div",{className:"on"===S?"invisible":""},"please wait your turn"),o.a.createElement("textArea",{className:"sentenceInput "+("on"===S?"":"invisible"),onChange:function(e){e.preventDefault(),e.stopPropagation(),ie(e.target.value)},type:"text",placeholder:"please proceed"}),o.a.createElement("button",{className:"submitbutton "+("on"===S?"":"invisible"),onClick:function(){Ae("on"),e.open(),console.log(ce),e.emit("segment",{segment:ce,room:xe}),setTimeout((function(){Ae("off")}),2e3)}},"broadcast Story Segment"),o.a.createElement("button",{className:"turnButtom gameButton",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.open(),e.emit("nextPlayer",xe)}},"next player"),o.a.createElement("button",{className:"gameButton"},o.a.createElement("a",{href:"data:text/plain;charset=utf-8, "+JSON.stringify(ae,null,1),download:"poem.txt"},"download poem")),o.a.createElement("button",{className:"openRulesButton gameButton",onClick:function(){Oe("on")}},"see Rules")))),o.a.createElement("div",{className:"sidenavchat "+("on"===c?"visible ":"invisible ")+("on"===Ne?"largeChat":"")},o.a.createElement("div",{className:"chatWindow "+("on"===Ne?"visible":"invisible")},$.length?o.a.createElement("div",{ref:t,className:"messageBox "+("on"===Ne?"onChatbox":"")},$.map((function(e,t){var a=e.user,n=(e.date,e.text);return o.a.createElement("div",{key:t,className:a===j?"toLeft":"toRight"},a,": ",n," ")}))):o.a.createElement("h1",{className:"chat-title"},"Speak")),o.a.createElement("div",null,o.a.createElement("input",{className:"chatBox "+("on"===Ne?"visible":"invisible"),type:"text",placeholder:"message",value:q,onChange:function(e){return X(e.currentTarget.value)}}),o.a.createElement("button",{className:"chatbtn "+("on"===Ne?"":"invisible"),onClick:_e},"speak"),o.a.createElement("button",Object(s.a)({className:"chatbtn "+("on"===Ne?"":"invisible"),onClick:_e},"onClick",(function(t){t.preventDefault(),t.stopPropagation(),Xe("on"),e.open(),setTimeout((function(){Xe("off")}),1e3);var a={message:q,username:j,room:xe};e.emit("sendToGhost",a),X("")})),"speak with ghost"),o.a.createElement("button",{className:"chatbtn "+("on"===Ne?"":"invisible"),onClick:function(){ye("off")}},"close chat"),o.a.createElement("button",{className:"chatbtn "+("on"===Ne?"invisible":""),onClick:function(){ye("on")}},"open chat"),o.a.createElement("div",{className:"roster "},o.a.createElement("h3",null,"players in the room"),o.a.createElement("ul",{id:"users"},R.map((function(e){var t=e.name,a=e.id;return o.a.createElement("li",{key:a,className:"on"===Ne?"centeredLi":""},t)})))))))};a(79);var p=function(){return o.a.createElement(v,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.49e66e43.chunk.js.map